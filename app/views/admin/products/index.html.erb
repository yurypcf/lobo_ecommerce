<p style="color: green"><%= notice %></p>

<h1 class="h3 mb-4 text-gray-800">Produtos</h1>

<%= simple_form_for :search, url: admin_products_path, method: "GET", html: { class: 'form-inline' } do |f| %>
  <%= f.input :name, label: false, input_html: {value: ""} %>   
  <%= f.submit "Search", class: "btn btn-primary" %>
<% end %>

<div class="row">
  <div class="col-lg-12">
    <div class="card shadow mb-4">
      <div class="card-body">
        <table class="table table-striped">
          <thead>
            <th>Código do Produto</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
            <th>Quantidade em Estoque</th>
            <th>Ações</th>
          </thead>
          <tbody>
            <% @products.each do |product| %>
              <tr>
                  <td><%= product.id %></td>
                  <td><%= product.name %></td>
                  <td><%= product.description %></td>
                  <td><%= product.price %></td>
                  <td><%= product.quantity %></td>
                  <td>
                    <%= link_to "Detalhes", admin_product_path(product), class: 'btn btn-dark' %>
                    <%= link_to "Editar", edit_admin_product_path(product), class: 'btn btn-warning' %>
                    <%= link_to "Excluir", admin_product_path(product), method: :delete, class: 'btn btn-danger', data: { turbo_method: :delete, turbo_confirm: 'Deseja realmente excluir?' } %>
                    <%= link_to product.active ? 'Inativar' : 'Ativar', admin_product_activation_path(product), class: 'btn btn-warning', data: { turbo_method: :get, turbo_confirm: 'Você tem certeza?' } %>
                  </td>
              </tr>
            <% end %>
          </tbody>
        </table>
        <div>
          <%= link_to_prev_page @products, 'Previous Page' %>
          <%= link_to_next_page @products, 'Next Page' %>
        </div>
        <br/>
        <%= link_to "+", new_admin_product_path, class: 'btn btn-primary' %>
      </div>
    </div>
  </div>
</div>